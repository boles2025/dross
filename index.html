<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ø¯Ø±ÙˆØ³ | Ø¨ÙˆÙ„Ø³ Ø³Ù…ÙŠØ±</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Ø¥Ø¶Ø§ÙØ© Ø®Ø· Ø­Ø¯ÙŠØ« -->
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Tajawal', sans-serif;
            background: linear-gradient(145deg, #eef2f6 0%, #e6ecf5 100%);
            padding: 16px;
            padding-bottom: 80px;
            min-height: 100vh;
            position: relative;
        }

        /* ØªÙˆÙ‚ÙŠØ¹ Ù…Ù‡Ù†Ø¯Ø³ Ø¨ÙˆÙ„Ø³ Ø³Ù…ÙŠØ± - ØªØµÙ…ÙŠÙ… Ù…ØµØºØ± ÙˆØ«Ø§Ø¨Øª ÙÙŠ Ø§Ù„Ø£Ø¹Ù„Ù‰ */
        .signature {
            background: rgba(255, 255, 255, 0.25);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            color: #1e293b;
            padding: 6px 16px;
            border-radius: 60px;
            font-weight: 600;
            box-shadow: 0 15px 35px -10px rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(255,255,255,0.3);
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 0.9rem;
            letter-spacing: 0.5px;
            white-space: nowrap;
        }

        .signature i {
            font-size: 16px;
            color: #3b82f6;
            animation: subtleSpin 8s linear infinite;
        }

        @keyframes subtleSpin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        /* Ù‚Ø³Ù… Ø­ØµØµ Ø§Ù„ÙŠÙˆÙ… - ØªØµÙ…ÙŠÙ… ÙƒØ±ØªÙˆÙ†ÙŠ Ù†Ø§Ø¹Ù… */
        .today-section {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: 40px;
            padding: 24px;
            margin-bottom: 24px;
            box-shadow: 0 15px 35px -10px rgba(59, 130, 246, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.6);
        }

        .today-title {
            font-size: 22px;
            font-weight: 700;
            margin-bottom: 18px;
            display: flex;
            align-items: center;
            gap: 10px;
            color: #0f172a;
        }

        .today-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px 20px;
            background: rgba(255,255,255,0.8);
            border-radius: 30px;
            margin-bottom: 12px;
            border: 1px solid rgba(203, 213, 225, 0.5);
            transition: all 0.2s ease;
        }
        .today-item:hover {
            background: white;
            box-shadow: 0 10px 25px -10px #94a3b8;
            transform: scale(1.02);
        }

        .btn-register {
            background: linear-gradient(145deg, #3b82f6, #2563eb);
            color: white;
            border: none;
            padding: 8px 25px;
            border-radius: 40px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 8px 18px -6px #3b82f6;
            transition: all 0.2s;
        }
        .btn-register:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 25px -8px #1e3a8a;
        }

        /* Ù‚Ø³Ù… Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª - Ø²Ø§Ù‡ÙŠ ÙˆÙ…Ù„ÙØª */
        .alerts-section {
            background: linear-gradient(145deg, #fff1f0, #ffe7e5);
            border-radius: 40px;
            padding: 24px;
            margin-bottom: 24px;
            box-shadow: 0 15px 30px -12px rgba(239, 68, 68, 0.4);
            border: 1px solid rgba(239, 68, 68, 0.2);
        }

        .alert-item {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(5px);
            border-radius: 30px;
            padding: 18px;
            margin-bottom: 12px;
            border: 1px solid rgba(239, 68, 68, 0.3);
            box-shadow: 0 4px 8px rgba(0,0,0,0.02);
        }

        .alert-badge {
            background: #ef4444;
            color: white;
            padding: 6px 16px;
            border-radius: 40px;
            font-size: 13px;
            font-weight: 700;
            box-shadow: 0 4px 10px -5px #b91c1c;
        }

        /* Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© - Ø¨ØªØ£Ø«ÙŠØ± Ø²Ø¬Ø§Ø¬ÙŠ */
        .student-card {
            background: rgba(255, 255, 255, 0.6);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border-radius: 45px;
            margin-bottom: 25px;
            box-shadow: 0 25px 45px -18px rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(255,255,255,0.7);
            overflow: hidden;
            transition: all 0.3s ease;
        }
        .student-card:hover {
            box-shadow: 0 30px 55px -15px #667eea;
        }

        /* Ø±Ø£Ø³ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© - ÙˆÙ„Ø¯ (ØªØ¯Ø±Ø¬ Ø£Ø²Ø±Ù‚ Ø­Ø¯ÙŠØ«) */
        .header-boy {
            background: linear-gradient(135deg, #1e40af, #3b82f6, #60a5fa);
            color: white;
            padding: 18px 24px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            border-bottom: 2px solid rgba(255,255,255,0.2);
        }

        /* Ø±Ø£Ø³ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© - Ø¨Ù†Øª (ØªØ¯Ø±Ø¬ ÙˆØ±Ø¯ÙŠ Ø£Ù†ÙŠÙ‚) */
        .header-girl {
            background: linear-gradient(135deg, #9d174d, #db2777, #f472b6);
            color: white;
            padding: 18px 24px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            border-bottom: 2px solid rgba(255,255,255,0.2);
        }

        .student-name {
            font-size: 22px;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .expand-icon {
            font-size: 20px;
            transition: transform 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            background: rgba(255,255,255,0.2);
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 30px;
        }

        .expand-icon.rotated {
            transform: rotate(135deg);
            background: rgba(255,255,255,0.4);
        }

        /* Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù‚Ø§Ø¨Ù„ Ù„Ù„ØªÙ…Ø¯ÙŠØ¯ */
        .card-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            background: rgba(255, 255, 255, 0.3);
        }

        .card-content.show {
            max-height: 5000px;
        }

        /* Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø³Ø±ÙŠØ¹Ø© - Ù„Ù…Ø³Ø© Ø¹ØµØ±ÙŠØ© ÙˆØ¬Ø¹Ù„Ù‡Ø§ Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„Ù†Ù‚Ø± */
        .stats {
            display: flex;
            gap: 24px;
            padding: 18px 24px;
            background: rgba(241, 245, 249, 0.6);
            border-bottom: 1px solid rgba(203, 213, 225, 0.5);
            flex-wrap: wrap;
        }

        .stat {
            font-size: 15px;
            color: #334155;
            display: flex;
            align-items: center;
            gap: 5px;
            cursor: pointer; /* Ù…Ø¤Ø´Ø± ÙŠØ¯Ù„ Ø¹Ù„Ù‰ Ø¥Ù…ÙƒØ§Ù†ÙŠØ© Ø§Ù„Ù†Ù‚Ø± */
            transition: all 0.2s ease;
            padding: 4px 8px;
            border-radius: 40px;
        }
        .stat:hover {
            background: rgba(255,255,255,0.8);
            transform: scale(1.05);
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
        }

        .stat span {
            font-weight: 800;
            color: #0f172a;
            font-size: 22px;
            line-height: 1;
            background: white;
            padding: 5px 12px;
            border-radius: 40px;
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.02);
        }

        /* Ø§Ù„Ù…ÙˆØ§Ø¯ */
        .subjects {
            padding: 24px;
        }

        .subject-item {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(5px);
            border-radius: 32px;
            padding: 22px;
            margin-bottom: 22px;
            border: 1px solid rgba(255,255,255,0.9);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            animation: slideUp 0.5s ease-out forwards;
            opacity: 0;
            transform: translateY(20px);
        }
        @keyframes slideUp {
            to { opacity: 1; transform: translateY(0); }
        }

        .subject-item:hover {
            transform: translateY(-5px) scale(1.01);
            box-shadow: 0 25px 40px -18px #2563eb;
        }

        /* Ø®Ø· ÙØ§ØµÙ„ Ù„ÙˆÙ†ÙŠ Ù…ØªØ¹Ø¯Ø¯ Ø§Ù„Ø£Ù„ÙˆØ§Ù† */
        .subject-item::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 10px;
            height: 100%;
            background: linear-gradient(to bottom, #3b82f6, #8b5cf6);
            border-radius: 10px 0 0 10px;
        }

        /* Ø£Ù„ÙˆØ§Ù† Ù…Ø®ØªÙ„ÙØ© Ù„Ù„Ù…ÙˆØ§Ø¯ - Ù…Ø¹ ØªØ£Ø«ÙŠØ± Ø¥Ø¶Ø§ÙÙŠ */
        .subject-item:nth-child(1)::before { background: linear-gradient(to bottom, #3b82f6, #1e40af); }
        .subject-item:nth-child(2)::before { background: linear-gradient(to bottom, #10b981, #047857); }
        .subject-item:nth-child(3)::before { background: linear-gradient(to bottom, #f59e0b, #b45309); }
        .subject-item:nth-child(4)::before { background: linear-gradient(to bottom, #ef4444, #b91c1c); }
        .subject-item:nth-child(5)::before { background: linear-gradient(to bottom, #8b5cf6, #5b21b6); }
        .subject-item:nth-child(6)::before { background: linear-gradient(to bottom, #ec4899, #9d174d); }
        .subject-item:nth-child(7)::before { background: linear-gradient(to bottom, #14b8a6, #115e59); }
        .subject-item:nth-child(8)::before { background: linear-gradient(to bottom, #f97316, #c2410c); }

        /* ØªÙ„ÙˆÙŠÙ† Ø§Ù„Ù…ÙˆØ§Ø¯ Ø­Ø³Ø¨ Ø¹Ø¯Ø¯ Ø§Ù„Ø­ØµØµ */
        .subject-item.level-0 { border-right: 6px solid #94a3b8; }
        .subject-item.level-1 { border-right: 6px solid #64748b; }
        .subject-item.level-2 { border-right: 6px solid #475569; }
        .subject-item.level-3 { border-right: 6px solid #334155; }
        .subject-item.level-4 { border-right: 6px solid #1e293b; }
        .subject-item.level-5 { border-right: 6px solid #0f172a; }
        .subject-item.level-6 { border-right: 6px solid #f97316; background: rgba(255, 247, 237, 0.8); }
        .subject-item.level-7 { border-right: 6px solid #f59e0b; background: rgba(254, 243, 199, 0.8); }
        .subject-item.level-8 { border-right: 6px solid #ef4444; background: rgba(254, 242, 242, 0.8); }
        .subject-item.level-9, .subject-item.level-10, .subject-item.level-11, .subject-item.level-12 {
            border-right: 6px solid #dc2626;
            background: rgba(254, 226, 226, 0.8);
        }

        .subject-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 14px;
            flex-wrap: wrap;
            gap: 8px;
        }

        .subject-name {
            font-weight: 800;
            font-size: 20px;
            color: #0f172a;
        }

        .subject-fee {
            background: rgba(203, 213, 225, 0.5);
            padding: 6px 20px;
            border-radius: 40px;
            font-size: 14px;
            font-weight: 600;
            color: #0f172a;
            backdrop-filter: blur(4px);
        }

        .days {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            margin-bottom: 15px;
        }

        .day {
            background: rgba(241, 245, 249, 0.7);
            padding: 6px 16px;
            border-radius: 40px;
            font-size: 13px;
            color: #1e293b;
            font-weight: 500;
            backdrop-filter: blur(2px);
        }

        .day.active {
            background: #0f172a;
            color: white;
        }

        .subject-stats {
            display: flex;
            gap: 25px;
            margin: 18px 0;
            padding: 12px 0;
            border-top: 1px dashed #cbd5e1;
            border-bottom: 1px dashed #cbd5e1;
        }

        .subject-stat {
            font-size: 14px;
            color: #475569;
            display: flex;
            align-items: center;
            gap: 5px;
            cursor: pointer; /* Ø¬Ø¹Ù„ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„Ù†Ù‚Ø± Ù„Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„ */
            padding: 4px 10px;
            border-radius: 40px;
            transition: all 0.2s;
        }
        .subject-stat:hover {
            background: rgba(255,255,255,0.9);
            transform: scale(1.05);
        }

        .subject-stat span {
            font-weight: 800;
            color: #0f172a;
            font-size: 16px;
        }

        /* Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù… - Ø£ÙƒØ«Ø± Ø¯Ù‚Ø© ÙˆØ¬Ø§Ø°Ø¨ÙŠØ© */
        .progress {
            margin: 18px 0;
        }

        .progress-label {
            display: flex;
            justify-content: space-between;
            font-size: 14px;
            color: #334155;
            margin-bottom: 6px;
            font-weight: 500;
        }

        .progress-bar {
            height: 12px;
            background: rgba(226, 232, 240, 0.6);
            border-radius: 30px;
            overflow: hidden;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.05);
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4f80ff, #8b5cf6);
            border-radius: 30px;
            transition: width 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        .progress-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            animation: shimmer 2s infinite;
        }
        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .progress-fill.alert {
            background: linear-gradient(90deg, #ef4444, #b91c1c);
        }

        .progress-fill.warning {
            background: linear-gradient(90deg, #f97316, #c2410c);
        }

        /* Ø±Ø³Ø§Ù„Ø© ØªÙ†Ø¨ÙŠÙ‡ - Ø£ÙŠÙ‚ÙˆÙ†Ø© Ù…ØªØ­Ø±ÙƒØ© */
        .alert-message {
            background: rgba(254, 226, 226, 0.8);
            color: #7f1d1d;
            padding: 15px 18px;
            border-radius: 24px;
            font-size: 15px;
            font-weight: 600;
            margin: 15px 0;
            display: flex;
            align-items: center;
            gap: 10px;
            border: 1px solid #fecaca;
            backdrop-filter: blur(4px);
            animation: gentlePulse 2s infinite;
        }
        @keyframes gentlePulse {
            0%,100% { opacity: 1; }
            50% { opacity: 0.8; background: rgba(254, 202, 202, 0.9); }
        }

        /* Ø§Ù„Ø£Ø²Ø±Ø§Ø± - Ø¨ØªØ£Ø«ÙŠØ±Ø§Øª Ø«Ù„Ø§Ø«ÙŠØ© Ø§Ù„Ø£Ø¨Ø¹Ø§Ø¯ Ø¨Ø³ÙŠØ·Ø© */
        .actions {
            display: flex;
            gap: 10px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .btn {
            flex: 1 0 auto;
            padding: 12px 15px;
            border-radius: 24px;
            font-size: 14px;
            font-weight: 700;
            border: none;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            transition: all 0.25s ease;
            box-shadow: 0 6px 12px -8px currentColor;
            min-width: 100px;
        }

        .btn-green { background: linear-gradient(145deg, #22c55e, #16a34a); color: white; }
        .btn-blue { background: linear-gradient(145deg, #3b82f6, #2563eb); color: white; }
        .btn-black { background: linear-gradient(145deg, #1e293b, #0f172a); color: white; }
        .btn-red { background: linear-gradient(145deg, #ef4444, #b91c1c); color: white; }

        .btn:hover {
            transform: translateY(-4px) scale(1.03);
            box-shadow: 0 16px 25px -8px currentColor;
        }

        /* Ø³Ø¬Ù„ Ø§Ù„Ø­ØµØµ ÙˆØ§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª */
        .records {
            padding: 24px;
            background: rgba(248, 250, 252, 0.5);
            backdrop-filter: blur(5px);
        }

        .record-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 14px 0;
            border-bottom: 1px solid #e2e8f0;
        }

        .record-item:last-child {
            border-bottom: none;
        }

        .record-actions {
            display: flex;
            gap: 15px;
        }

        .record-actions button {
            background: none;
            border: none;
            color: #94a3b8;
            cursor: pointer;
            font-size: 15px;
            transition: color 0.2s;
        }
        .record-actions button:hover {
            color: #0f172a;
            transform: scale(1.2);
        }

        /* Ø§Ù„Ù†ÙˆØ§ÙØ° Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø© - ØªØµÙ…ÙŠÙ… Ø¹ØµØ±ÙŠ */
        .modal {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.3);
            backdrop-filter: blur(12px);
            display: none;
            align-items: center;
            justify-content: center;
            padding: 16px;
            z-index: 2000;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(20px);
            border-radius: 60px;
            max-width: 500px;
            width: 100%;
            padding: 40px;
            box-shadow: 0 40px 70px -15px #1e293b;
            border: 1px solid rgba(255,255,255,0.6);
        }

        .modal-title {
            font-size: 30px;
            font-weight: 800;
            margin-bottom: 25px;
            color: #0f172a;
        }

        .modal-input {
            width: 100%;
            padding: 16px 20px;
            border: 2px solid rgba(203, 213, 225, 0.7);
            border-radius: 30px;
            margin-bottom: 20px;
            font-family: 'Tajawal', sans-serif;
            font-size: 16px;
            background: rgba(255,255,255,0.5);
        }

        .modal-input:focus {
            outline: none;
            border-color: #667eea;
            background: white;
        }

        .modal-buttons {
            display: flex;
            gap: 15px;
        }

        .days-selector {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 20px 0;
        }

        .day-option {
            background: rgba(241, 245, 249, 0.8);
            padding: 12px 22px;
            border-radius: 50px;
            font-size: 15px;
            cursor: pointer;
            border: 1px solid #e2e8f0;
            transition: all 0.2s;
            backdrop-filter: blur(2px);
        }

        .day-option.selected {
            background: #0f172a;
            color: white;
            border-color: #0f172a;
            transform: scale(1.05);
        }

        /* Ø±Ø³Ø§Ù„Ø© Ù†Ø¬Ø§Ø­ */
        .toast {
            position: fixed;
            bottom: 100px;
            left: 50%;
            transform: translateX(-50%);
            background: #1e293b;
            color: white;
            padding: 16px 35px;
            border-radius: 60px;
            font-weight: 600;
            display: none;
            z-index: 2001;
            box-shadow: 0 20px 40px rgba(0,0,0,0.2);
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255,255,255,0.2);
        }

        .empty {
            text-align: center;
            padding: 40px;
            color: #64748b;
            font-size: 1.1rem;
        }

        /* Ø¹Ø¯Ø§Ø¯ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª - Ù…ØªØ­Ø±Ùƒ */
        .alert-counter {
            background: #ef4444;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            font-weight: 800;
            margin-right: 12px;
            animation: bounce 1.5s infinite;
        }
        @keyframes bounce {
            0%,100%{ transform: scale(1); }
            50%{ transform: scale(1.2); }
        }

        .remaining-badge {
            background: rgba(203, 213, 225, 0.5);
            padding: 6px 16px;
            border-radius: 40px;
            font-size: 13px;
            font-weight: 600;
            color: #1e293b;
            backdrop-filter: blur(4px);
        }

        /* ØªØµÙ…ÙŠÙ… Ø¬Ø¯ÙŠØ¯ Ù„Ù„Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø© Ù„ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø­ØµØµ */
        .sessions-list {
            max-height: 400px;
            overflow-y: auto;
            padding-left: 5px;
        }
        .session-item {
            background: rgba(255,255,255,0.6);
            border-radius: 50px;
            padding: 15px 20px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border: 1px solid rgba(203, 213, 225, 0.7);
            transition: all 0.2s;
        }
        .session-item:hover {
            background: white;
            transform: translateX(-5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }
        .session-number {
            background: #3b82f6;
            color: white;
            width: 45px;
            height: 45px;
            border-radius: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            font-size: 18px;
            box-shadow: 0 8px 15px -5px #3b82f6;
            border: 2px solid white;
        }
        .session-info {
            flex: 1;
            padding-right: 20px;
        }
        .session-date {
            font-weight: 700;
            color: #0f172a;
            font-size: 16px;
        }
        .session-day {
            font-size: 14px;
            color: #64748b;
        }
        .session-status-badge {
            padding: 6px 16px;
            border-radius: 50px;
            font-weight: 600;
            font-size: 14px;
        }
        .status-present {
            background: #dcfce7;
            color: #166534;
        }
        .status-absent {
            background: #fee2e2;
            color: #991b1b;
        }
    </style>
</head>
<body>

<!-- Ø±Ø£Ø³ Ø§Ù„ØµÙØ­Ø©: Ø§Ù„Ø¹Ù†ÙˆØ§Ù† ÙˆØ§Ù„ØªÙˆÙ‚ÙŠØ¹ Ù…Ø¹Ø§Ù‹ -->
<div class="max-w-3xl mx-auto mb-6">
    <div class="flex justify-between items-center">
        <h1 class="text-3xl font-extrabold text-transparent bg-clip-text bg-gradient-to-l from-indigo-600 to-purple-600 flex items-center gap-2">
            <i class="fas fa-book-open"></i> Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ø¯Ø±ÙˆØ³
        </h1>
        <!-- ØªÙˆÙ‚ÙŠØ¹ Ù…Ù‡Ù†Ø¯Ø³ Ø¨ÙˆÙ„Ø³ Ø³Ù…ÙŠØ± Ø£ØµØ¨Ø­ Ù‡Ù†Ø§ Ø¨Ø¬Ø§Ù†Ø¨ Ø§Ù„Ø¹Ù†ÙˆØ§Ù† -->
        <div class="signature">
            <i class="fas fa-crown"></i>
            <span>Ù…Ù‡Ù†Ø¯Ø³ Ø¨ÙˆÙ„Ø³ Ø³Ù…ÙŠØ±</span>
            <i class="fas fa-code"></i>
        </div>
        <div class="bg-white/70 backdrop-blur-sm px-5 py-2 rounded-full shadow-sm border border-white/50">
            <span class="text-gray-600">Ø§Ù„Ø¹Ø¯Ø¯</span>
            <span class="font-bold mr-2 text-indigo-600 text-lg" id="total-count">0</span>
        </div>
    </div>
</div>

<!-- Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
<div class="max-w-3xl mx-auto" id="app">

    <!-- Ø­ØµØµ Ø§Ù„ÙŠÙˆÙ… -->
    <div class="today-section" id="today-section">
        <div class="today-title">
            <i class="fas fa-sun text-yellow-500 text-2xl"></i>
            Ø­ØµØµ Ø§Ù„ÙŠÙˆÙ…
            <span class="text-sm bg-indigo-100 text-indigo-700 px-4 py-1.5 rounded-full mr-auto font-bold shadow-inner" id="today-count">0</span>
        </div>
        <div id="today-list"></div>
    </div>

    <!-- Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª -->
    <div class="alerts-section" id="alerts-section" style="display: none;">
        <div class="today-title">
            <i class="fas fa-exclamation-triangle text-red-500 text-2xl"></i>
            Ù…ÙˆØ§Ø¯ ÙˆØµÙ„Øª Ù„Ù€ Ù¨ Ø­ØµØµ
            <span class="alert-counter" id="alert-count">0</span>
        </div>
        <div id="alerts-list"></div>
    </div>

    <!-- Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª -->
    <div id="cards-container"></div>
</div>

<!-- Ù…ÙˆØ¯Ø§Ù„ Ø¥Ø¶Ø§ÙØ© Ø§Ø¨Ù† -->
<div class="modal" id="modal-student">
    <div class="modal-content">
        <h2 class="modal-title">â• Ø¥Ø¶Ø§ÙØ© Ø§Ø¨Ù†/Ø§Ø¨Ù†Ø©</h2>
        <input type="text" id="student-name" class="modal-input" placeholder="Ø§Ù„Ø§Ø³Ù… ÙƒØ§Ù…Ù„Ø§Ù‹">
        <div class="modal-buttons">
            <button class="btn btn-black flex-1" onclick="addStudent()">Ø¥Ø¶Ø§ÙØ©</button>
            <button class="btn" style="background:#e2e8f0; color:#475569; flex:1;" onclick="hideModal('student')">Ø¥Ù„ØºØ§Ø¡</button>
        </div>
    </div>
</div>

<!-- Ù…ÙˆØ¯Ø§Ù„ Ø¥Ø¶Ø§ÙØ© Ù…Ø§Ø¯Ø© -->
<div class="modal" id="modal-subject">
    <div class="modal-content">
        <h2 class="modal-title">ğŸ“– Ø¥Ø¶Ø§ÙØ© Ù…Ø§Ø¯Ø©</h2>
        <input type="hidden" id="subject-student-id">
        <input type="text" id="subject-name" class="modal-input" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø§Ø¯Ø©">
        <input type="number" id="subject-fee" class="modal-input" placeholder="Ø§Ù„Ù…Ø¨Ù„Øº">
        <input type="text" id="subject-time" class="modal-input" placeholder="Ø§Ù„ÙˆÙ‚Øª (Ù…Ø«Ø§Ù„: 4:00 Ù…)">
        <div class="mb-2 font-bold">Ø£ÙŠØ§Ù… Ø§Ù„Ø¯Ø±Ø§Ø³Ø©</div>
        <div class="days-selector" id="days-selector"></div>
        <div class="modal-buttons">
            <button class="btn btn-black flex-1" onclick="addSubject()">Ø­ÙØ¸</button>
            <button class="btn" style="background:#e2e8f0; color:#475569; flex:1;" onclick="hideModal('subject')">Ø¥Ù„ØºØ§Ø¡</button>
        </div>
    </div>
</div>

<!-- Ù…ÙˆØ¯Ø§Ù„ ØªØ¹Ø¯ÙŠÙ„ Ù…Ø§Ø¯Ø© -->
<div class="modal" id="modal-edit-subject">
    <div class="modal-content">
        <h2 class="modal-title">âœï¸ ØªØ¹Ø¯ÙŠÙ„ Ù…Ø§Ø¯Ø©</h2>
        <input type="hidden" id="edit-subject-id">
        <input type="text" id="edit-subject-name" class="modal-input" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø§Ø¯Ø©">
        <input type="number" id="edit-subject-fee" class="modal-input" placeholder="Ø§Ù„Ù…Ø¨Ù„Øº">
        <input type="text" id="edit-subject-time" class="modal-input" placeholder="Ø§Ù„ÙˆÙ‚Øª (Ù…Ø«Ø§Ù„: 4:00 Ù…)">
        <div class="mb-2 font-bold">Ø£ÙŠØ§Ù… Ø§Ù„Ø¯Ø±Ø§Ø³Ø©</div>
        <div class="days-selector" id="edit-days-selector"></div>
        <div class="modal-buttons">
            <button class="btn btn-black flex-1" onclick="updateSubject()">ØªØ­Ø¯ÙŠØ«</button>
            <button class="btn" style="background:#e2e8f0; color:#475569; flex:1;" onclick="hideModal('edit-subject')">Ø¥Ù„ØºØ§Ø¡</button>
        </div>
    </div>
</div>

<!-- Ù…ÙˆØ¯Ø§Ù„ ØªØ³Ø¬ÙŠÙ„ Ø­ØµØ© -->
<div class="modal" id="modal-attendance">
    <div class="modal-content">
        <h2 class="modal-title">âœï¸ ØªØ³Ø¬ÙŠÙ„ Ø­ØµØ©</h2>
        <input type="hidden" id="attendance-subject-id">
        <input type="date" id="attendance-date" class="modal-input">
        <div class="flex gap-3 mb-4">
            <label class="flex-1 cursor-pointer">
                <input type="radio" name="attendance-status" value="Ø­Ø¶ÙˆØ±" checked class="hidden peer">
                <div class="text-center p-3 border-2 rounded-2xl peer-checked:bg-green-500 peer-checked:text-white">âœ… Ø­Ø¶ÙˆØ±</div>
            </label>
            <label class="flex-1 cursor-pointer">
                <input type="radio" name="attendance-status" value="ØºÙŠØ§Ø¨" class="hidden peer">
                <div class="text-center p-3 border-2 rounded-2xl peer-checked:bg-red-500 peer-checked:text-white">âŒ ØºÙŠØ§Ø¨</div>
            </label>
        </div>
        <div class="modal-buttons">
            <button class="btn btn-black flex-1" onclick="addAttendance()">ØªØ³Ø¬ÙŠÙ„</button>
            <button class="btn" style="background:#e2e8f0; color:#475569; flex:1;" onclick="hideModal('attendance')">Ø¥Ù„ØºØ§Ø¡</button>
        </div>
    </div>
</div>

<!-- Ù…ÙˆØ¯Ø§Ù„ ØªØ³Ø¬ÙŠÙ„ Ø¯ÙØ¹ -->
<div class="modal" id="modal-payment">
    <div class="modal-content">
        <h2 class="modal-title">ğŸ’° ØªØ³Ø¬ÙŠÙ„ Ø¯ÙØ¹</h2>
        <input type="hidden" id="payment-subject-id">
        <input type="date" id="payment-date" class="modal-input">
        <input type="number" id="payment-amount" class="modal-input" placeholder="Ø§Ù„Ù…Ø¨Ù„Øº">
        <div class="modal-buttons">
            <button class="btn btn-black flex-1" onclick="addPayment()">ØªØ³Ø¬ÙŠÙ„</button>
            <button class="btn" style="background:#e2e8f0; color:#475569; flex:1;" onclick="hideModal('payment')">Ø¥Ù„ØºØ§Ø¡</button>
        </div>
    </div>
</div>

<!-- Ù…ÙˆØ¯Ø§Ù„ ØªØ¹Ø¯ÙŠÙ„ Ø­ØµØ© -->
<div class="modal" id="modal-edit-attendance">
    <div class="modal-content">
        <h2 class="modal-title">âœï¸ ØªØ¹Ø¯ÙŠÙ„ Ø­ØµØ©</h2>
        <input type="hidden" id="edit-attendance-id">
        <input type="date" id="edit-attendance-date" class="modal-input">
        <div class="flex gap-3 mb-4">
            <label class="flex-1 cursor-pointer">
                <input type="radio" name="edit-attendance-status" value="Ø­Ø¶ÙˆØ±" class="hidden peer">
                <div class="text-center p-3 border-2 rounded-2xl peer-checked:bg-green-500 peer-checked:text-white">âœ… Ø­Ø¶ÙˆØ±</div>
            </label>
            <label class="flex-1 cursor-pointer">
                <input type="radio" name="edit-attendance-status" value="ØºÙŠØ§Ø¨" class="hidden peer">
                <div class="text-center p-3 border-2 rounded-2xl peer-checked:bg-red-500 peer-checked:text-white">âŒ ØºÙŠØ§Ø¨</div>
            </label>
        </div>
        <div class="modal-buttons">
            <button class="btn btn-black flex-1" onclick="updateAttendance()">ØªØ­Ø¯ÙŠØ«</button>
            <button class="btn" style="background:#e2e8f0; color:#475569; flex:1;" onclick="hideModal('edit-attendance')">Ø¥Ù„ØºØ§Ø¡</button>
        </div>
    </div>
</div>

<!-- Ù…ÙˆØ¯Ø§Ù„ ØªØ¹Ø¯ÙŠÙ„ Ø¯ÙØ¹ -->
<div class="modal" id="modal-edit-payment">
    <div class="modal-content">
        <h2 class="modal-title">ğŸ’° ØªØ¹Ø¯ÙŠÙ„ Ø¯ÙØ¹</h2>
        <input type="hidden" id="edit-payment-id">
        <input type="date" id="edit-payment-date" class="modal-input">
        <input type="number" id="edit-payment-amount" class="modal-input" placeholder="Ø§Ù„Ù…Ø¨Ù„Øº">
        <div class="modal-buttons">
            <button class="btn btn-black flex-1" onclick="updatePayment()">ØªØ­Ø¯ÙŠØ«</button>
            <button class="btn" style="background:#e2e8f0; color:#475569; flex:1;" onclick="hideModal('edit-payment')">Ø¥Ù„ØºØ§Ø¡</button>
        </div>
    </div>
</div>

<!-- Ù…ÙˆØ¯Ø§Ù„ Ø¹Ø±Ø¶ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø­ØµØµ Ù„Ù…Ø§Ø¯Ø© Ù…Ø¹ÙŠÙ†Ø© -->
<div class="modal" id="modal-sessions-detail">
    <div class="modal-content" style="max-width: 600px;">
        <h2 class="modal-title" id="sessions-modal-title">ğŸ“… ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø­ØµØµ</h2>
        <div id="sessions-list-container" class="sessions-list">
            <!-- Ù‡Ù†Ø§ Ø³ÙŠØªÙ… Ø¹Ø±Ø¶ Ø§Ù„Ø­ØµØµ Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ§Ù‹ -->
        </div>
        <div class="modal-buttons mt-4">
            <button class="btn btn-black flex-1" onclick="hideModal('sessions-detail')">Ø¥ØºÙ„Ø§Ù‚</button>
        </div>
    </div>
</div>

<!-- Firebase ÙˆÙ†ÙØ³ Ø§Ù„Ù€ JavaScript (Ù…Ø¹ Ø¥Ø¶Ø§ÙØ© Ø¯Ø§Ù„Ø© Ø¹Ø±Ø¶ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø­ØµØµ) -->
<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.1.0/firebase-app.js";
    import { getAuth, signInAnonymously } from "https://www.gstatic.com/firebasejs/11.1.0/firebase-auth.js";
    import { getFirestore, collection, addDoc, onSnapshot, doc, deleteDoc, updateDoc } from "https://www.gstatic.com/firebasejs/11.1.0/firebase-firestore.js";

    const firebaseConfig = {
        apiKey: "AIzaSyAYbNXkNQy32UnbsUUrTXyoJluZRS3wP1w",
        authDomain: "droos-33ede.firebaseapp.com",
        projectId: "droos-33ede",
        storageBucket: "droos-33ede.firebasestorage.app",
        messagingSenderId: "807210060374",
        appId: "1:807210060374:web:3bdf1e15e44a1795f289f7"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getFirestore(app);
    const appId = 'droos-app-v1';

    // State
    const state = {
        students: [],
        subjects: [],
        attendance: [],
        payments: [],
        expanded: {}
    };

    const WEEKDAYS = ["Ø§Ù„Ø³Ø¨Øª", "Ø§Ù„Ø£Ø­Ø¯", "Ø§Ù„Ø§Ø«Ù†ÙŠÙ†", "Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡", "Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡", "Ø§Ù„Ø®Ù…ÙŠØ³", "Ø§Ù„Ø¬Ù…Ø¹Ø©"];

    // Ø¯ÙˆØ§Ù„ Ù…Ø³Ø§Ø¹Ø¯Ø©
    const toArabic = (num) => {
        const arabic = ['Ù ', 'Ù¡', 'Ù¢', 'Ù£', 'Ù¤', 'Ù¥', 'Ù¦', 'Ù§', 'Ù¨', 'Ù©'];
        return num.toString().replace(/\d/g, d => arabic[d]);
    };

    const showToast = (msg) => {
        const toast = document.getElementById('toast');
        toast.textContent = msg;
        toast.style.display = 'block';
        setTimeout(() => {
            toast.style.display = 'none';
        }, 2000);
    };

    const getGender = (name) => {
        const boys = ['Ù…Ø­Ù…Ø¯', 'Ø£Ø­Ù…Ø¯', 'Ù…Ø­Ù…ÙˆØ¯', 'Ø¹Ù„ÙŠ', 'Ø­Ø³Ù†', 'Ø­Ø³ÙŠÙ†', 'ÙŠÙˆØ³Ù', 'Ø¹Ù…Ø±', 'Ø®Ø§Ù„Ø¯', 'ÙŠØ§Ø³ÙŠÙ†', 'Ø¢Ø¯Ù…', 'Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ…'];
        return boys.some(b => name.includes(b)) ? 'boy' : 'girl';
    };

    // Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
    signInAnonymously(auth).then(() => {
        const path = (col) => collection(db, 'artifacts', appId, 'public', 'data', col);

        onSnapshot(path('students'), (snap) => {
            state.students = snap.docs.map(d => ({ id: d.id, ...d.data() }));
            render();
            document.getElementById('total-count').textContent = state.students.length;
        });

        onSnapshot(path('subjects'), (snap) => {
            state.subjects = snap.docs.map(d => ({ id: d.id, ...d.data() }));
            render();
        });

        onSnapshot(path('attendance'), (snap) => {
            state.attendance = snap.docs.map(d => ({ id: d.id, ...d.data() }));
            render();
        });

        onSnapshot(path('payments'), (snap) => {
            state.payments = snap.docs.map(d => ({ id: d.id, ...d.data() }));
            render();
        });
    });

    function render() {
        renderTodayClasses();
        renderAlerts();
        renderCards();
    }

    // Ø­ØµØµ Ø§Ù„ÙŠÙˆÙ…
    function renderTodayClasses() {
        const today = new Date().toISOString().split('T')[0];
        const todayDay = new Date().toLocaleDateString('ar-EG', { weekday: 'long' });
        
        const todayClasses = [];
        
        state.subjects.forEach(subject => {
            if (subject.days?.includes(todayDay)) {
                const student = state.students.find(s => s.id === subject.studentId);
                const attendance = state.attendance.find(a => a.subjectId === subject.id && a.date === today);
                
                todayClasses.push({
                    subject,
                    student,
                    status: attendance ? attendance.status : 'pending'
                });
            }
        });

        const container = document.getElementById('today-list');
        const countSpan = document.getElementById('today-count');
        
        countSpan.textContent = todayClasses.length;

        if (todayClasses.length === 0) {
            container.innerHTML = '<div class="empty py-4">âœ¨ Ù„Ø§ ØªÙˆØ¬Ø¯ Ø­ØµØµ Ø§Ù„ÙŠÙˆÙ…</div>';
            return;
        }

        let html = '';
        todayClasses.forEach(item => {
            html += `
                <div class="today-item">
                    <div class="flex items-center gap-3">
                        <span class="font-bold">${item.student?.name || ''}</span>
                        <span>${item.subject.name}</span>
                        ${item.subject.time ? `<span class="text-sm text-gray-500">${item.subject.time}</span>` : ''}
                    </div>
                    <div>
                        ${item.status === 'pending' ? 
                            `<button class="btn-register" onclick="quickRegister('${item.subject.id}')">ØªØ³Ø¬ÙŠÙ„</button>` :
                            `<span class="px-4 py-1.5 bg-green-100 text-green-700 rounded-full text-sm font-bold shadow-inner">${item.status === 'Ø­Ø¶ÙˆØ±' ? 'âœ…' : 'âŒ'} ${item.status}</span>`
                        }
                    </div>
                </div>
            `;
        });

        container.innerHTML = html;
    }

    window.quickRegister = (subjectId) => {
        showModal('attendance', subjectId);
    };

    // Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª
    function renderAlerts() {
        const alerts = [];
        
        state.subjects.forEach(subject => {
            const attendance = state.attendance.filter(a => a.subjectId === subject.id);
            const payments = state.payments.filter(p => p.subjectId === subject.id);
            
            const sessionsCount = attendance.length;
            const paidCount = payments.length;
            const requiredPayments = Math.floor(sessionsCount / 8);
            
            if (sessionsCount >= 8) {
                const student = state.students.find(s => s.id === subject.studentId);
                const pending = requiredPayments - paidCount;
                
                if (pending > 0) {
                    alerts.push({
                        student: student?.name || '',
                        subject: subject.name,
                        sessions: sessionsCount,
                        pending,
                        amount: pending * subject.fee
                    });
                }
            }
        });

        const container = document.getElementById('alerts-list');
        const section = document.getElementById('alerts-section');
        const countSpan = document.getElementById('alert-count');

        if (alerts.length === 0) {
            section.style.display = 'none';
            return;
        }

        section.style.display = 'block';
        countSpan.textContent = alerts.length;

        let html = '';
        alerts.forEach(alert => {
            html += `
                <div class="alert-item">
                    <div class="flex justify-between items-center mb-2">
                        <span class="font-bold text-red-800">${alert.subject}</span>
                        <span class="alert-badge">${toArabic(alert.sessions)} Ø­ØµØ©</span>
                    </div>
                    <div class="text-sm text-red-900">
                        <div>Ø§Ù„Ø·Ø§Ù„Ø¨: ${alert.student}</div>
                        <div class="font-bold mt-2 text-base">âš ï¸ Ù…Ø·Ù„ÙˆØ¨ Ø¯ÙØ¹ ${toArabic(alert.pending)} Ø¯ÙØ¹Ø© (${toArabic(alert.amount)} Ø¬.Ù…)</div>
                    </div>
                </div>
            `;
        });

        container.innerHTML = html;
    }

    // Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª
    function renderCards() {
        const container = document.getElementById('cards-container');
        
        if (state.students.length === 0) {
            container.innerHTML = `
                <div class="bg-white/70 backdrop-blur-lg rounded-3xl p-12 text-center border border-white/70 shadow-xl">
                    <i class="fas fa-child text-6xl text-indigo-300 mb-3"></i>
                    <p class="text-gray-500 text-xl">Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø£Ø¨Ù†Ø§Ø¡ Ø¨Ø¹Ø¯</p>
                    <button class="btn btn-black mt-6 px-8 py-3 text-lg" onclick="showModal('student')">â• Ø¥Ø¶Ø§ÙØ© Ø§Ø¨Ù†</button>
                </div>
            `;
            return;
        }

        let html = '';
        state.students.forEach(student => {
            html += renderStudent(student);
        });
        container.innerHTML = html;
    }

    function renderStudent(student) {
        const gender = getGender(student.name);
        const isExpanded = state.expanded[student.id] || false;
        
        const subjects = state.subjects.filter(s => s.studentId === student.id);
        const attendance = state.attendance.filter(a => a.studentId === student.id);
        const payments = state.payments.filter(p => p.studentId === student.id);

        const totalSessions = attendance.length;
        const totalPresence = attendance.filter(a => a.status === 'Ø­Ø¶ÙˆØ±').length;
        const totalAbsence = attendance.filter(a => a.status === 'ØºÙŠØ§Ø¨').length;
        const totalPaid = payments.reduce((sum, p) => sum + p.amount, 0);

        return `
            <div class="student-card">
                <div class="${gender === 'boy' ? 'header-boy' : 'header-girl'}" onclick="toggleCard('${student.id}')">
                    <div class="student-name">
                        <span>${gender === 'boy' ? 'ğŸ‘¦' : 'ğŸ‘§'}</span>
                        ${student.name}
                    </div>
                    <div class="expand-icon ${isExpanded ? 'rotated' : ''}">
                        <i class="fas ${isExpanded ? 'fa-minus' : 'fa-plus'}"></i>
                    </div>
                </div>

                <div class="card-content ${isExpanded ? 'show' : ''}">
                    
                    <div class="stats">
                        <div class="stat" onclick="showSessionsDetail('all', '${student.id}')" title="Ø¹Ø±Ø¶ ÙƒÙ„ Ø§Ù„Ø­ØµØµ"><span class="ar-num">${toArabic(totalSessions)}</span> Ø­ØµØ©</div>
                        <div class="stat" onclick="showSessionsDetail('present', '${student.id}')" title="Ø¹Ø±Ø¶ Ø§Ù„Ø­Ø¶ÙˆØ± ÙÙ‚Ø·"><span class="ar-num">${toArabic(totalPresence)}</span> Ø­Ø¶ÙˆØ±</div>
                        <div class="stat" onclick="showSessionsDetail('absent', '${student.id}')" title="Ø¹Ø±Ø¶ Ø§Ù„ØºÙŠØ§Ø¨ ÙÙ‚Ø·"><span class="ar-num">${toArabic(totalAbsence)}</span> ØºÙŠØ§Ø¨</div>
                        <div class="stat"><span class="ar-num">${toArabic(totalPaid)}</span> Ø¬.Ù…</div>
                    </div>

                    <div class="subjects">
                        <div class="flex justify-between items-center mb-4">
                            <h3 class="font-bold text-xl">Ø§Ù„Ù…ÙˆØ§Ø¯</h3>
                            <button class="bg-indigo-100 text-indigo-700 px-5 py-2 rounded-full text-sm font-bold shadow-inner hover:bg-indigo-200 transition" onclick="showModal('subject', '${student.id}')">
                                <i class="fas fa-plus ml-1"></i>Ø¥Ø¶Ø§ÙØ©
                            </button>
                        </div>

                        ${subjects.length === 0 ? 
                            '<div class="empty py-6">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…ÙˆØ§Ø¯ØŒ Ø£Ø¶Ù Ù…Ø§Ø¯Ø© Ø¬Ø¯ÙŠØ¯Ø©</div>' : 
                            subjects.map((s, index) => renderSubject(s, index)).join('')
                        }
                    </div>

                    <div class="records">
                        <h3 class="font-bold mb-3 text-lg">Ø¢Ø®Ø± Ø§Ù„Ø­ØµØµ</h3>
                        ${renderAttendance(attendance)}
                    </div>

                    <div class="records">
                        <h3 class="font-bold mb-3 text-lg">Ø¢Ø®Ø± Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ø¯ÙØ¹</h3>
                        ${renderPayments(payments)}
                    </div>
                </div>
            </div>
        `;
    }

    function renderSubject(subject, index) {
        const attendance = state.attendance.filter(a => a.subjectId === subject.id);
        const payments = state.payments.filter(p => p.subjectId === subject.id);
        
        const sessionsCount = attendance.length;
        const presenceCount = attendance.filter(a => a.status === 'Ø­Ø¶ÙˆØ±').length;
        const absenceCount = attendance.filter(a => a.status === 'ØºÙŠØ§Ø¨').length;
        
        const requiredPayments = Math.floor(sessionsCount / 8);
        const paidPayments = payments.length;
        const pendingPayments = requiredPayments - paidPayments;
        
        const sessionsSinceLastPayment = sessionsCount - (paidPayments * 8);
        const progress = (sessionsSinceLastPayment / 8) * 100;
        const remainingForNext = 8 - sessionsSinceLastPayment;

        let level = Math.min(sessionsCount, 12);
        let levelClass = `level-${level}`;

        return `
            <div class="subject-item ${levelClass}" style="animation-delay: ${index * 0.1}s;">
                <div class="subject-header">
                    <span class="subject-name">${subject.name}</span>
                    <span class="subject-fee ar-num">${toArabic(subject.fee)} Ø¬.Ù…</span>
                </div>

                <div class="text-sm text-gray-500 mb-2"><i class="far fa-clock ml-1"></i> ${subject.time || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}</div>

                <div class="days">
                    ${WEEKDAYS.map(day => `
                        <span class="day ${subject.days?.includes(day) ? 'active' : ''}">${day}</span>
                    `).join('')}
                </div>

                <div class="subject-stats">
                    <div class="subject-stat" onclick="showSessionsDetail('subject', '${subject.id}', 'all')" title="Ø¹Ø±Ø¶ ÙƒÙ„ Ø­ØµØµ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø§Ø¯Ø©"><span class="ar-num">${toArabic(sessionsCount)}</span> Ø¥Ø¬Ù…Ø§Ù„ÙŠ</div>
                    <div class="subject-stat" onclick="showSessionsDetail('subject', '${subject.id}', 'present')" title="Ø¹Ø±Ø¶ Ø­Ø¶ÙˆØ± Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø§Ø¯Ø©"><span class="ar-num">${toArabic(presenceCount)}</span> Ø­Ø¶ÙˆØ±</div>
                    <div class="subject-stat" onclick="showSessionsDetail('subject', '${subject.id}', 'absent')" title="Ø¹Ø±Ø¶ ØºÙŠØ§Ø¨ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø§Ø¯Ø©"><span class="ar-num">${toArabic(absenceCount)}</span> ØºÙŠØ§Ø¨</div>
                </div>

                <div class="progress">
                    <div class="progress-label">
                        <span class="text-gray-600">ØªÙ‚Ø¯Ù… Ø§Ù„Ø¯ÙØ¹Ø©</span>
                        <span class="remaining-badge ar-num">${toArabic(sessionsSinceLastPayment)} / 8</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill ${sessionsCount >= 8 ? 'alert' : sessionsCount >= 6 ? 'warning' : ''}" style="width: ${progress}%"></div>
                    </div>
                </div>

                ${sessionsCount >= 8 && pendingPayments > 0 ? `
                    <div class="alert-message">
                        <i class="fas fa-exclamation-circle text-xl"></i>
                        âš ï¸ ÙˆØµÙ„Øª Ù„Ù€ ${toArabic(sessionsCount)} Ø­ØµØµ - Ù…Ø·Ù„ÙˆØ¨ Ø¯ÙØ¹ ${toArabic(pendingPayments)} Ø¯ÙØ¹Ø©
                    </div>
                ` : sessionsCount >= 8 ? `
                    <div class="bg-green-100 text-green-700 p-3 rounded-2xl text-sm font-bold mb-3 flex items-center gap-2 border border-green-200">
                        <i class="fas fa-check-circle"></i> ØªÙ… Ø¯ÙØ¹ ÙƒÙ„ Ø§Ù„Ù…Ø³ØªØ­Ù‚
                    </div>
                ` : ''}

                <div class="actions">
                    <button class="btn btn-green" onclick="showModal('attendance', '${subject.id}')"><i class="fas fa-pen"></i> Ø­ØµØ©</button>
                    <button class="btn btn-black" onclick="showModal('payment', '${subject.id}')"><i class="fas fa-money-bill-wave"></i> Ø¯ÙØ¹</button>
                    <button class="btn btn-blue" onclick="editSubject('${subject.id}')"><i class="fas fa-edit"></i></button>
                    <button class="btn btn-red" onclick="deleteSubject('${subject.id}')"><i class="fas fa-trash"></i></button>
                </div>
            </div>
        `;
    }

    function renderAttendance(attendance) {
        const recent = [...attendance].sort((a,b) => new Date(b.date) - new Date(a.date)).slice(0, 5);
        
        if (recent.length === 0) {
            return '<div class="empty py-4">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø­ØµØµ Ù…Ø³Ø¬Ù„Ø©</div>';
        }

        return recent.map(a => {
            const subject = state.subjects.find(s => s.id === a.subjectId);
            return `
                <div class="record-item">
                    <div>
                        <div class="font-bold">${subject?.name || ''}</div>
                        <div class="text-sm text-gray-500">${a.date}</div>
                    </div>
                    <div class="record-actions">
                        <span class="${a.status === 'Ø­Ø¶ÙˆØ±' ? 'text-green-600' : 'text-red-600'} ml-3 text-lg">
                            ${a.status === 'Ø­Ø¶ÙˆØ±' ? 'âœ…' : 'âŒ'}
                        </span>
                        <button onclick="editAttendance('${a.id}')"><i class="fas fa-edit"></i></button>
                        <button onclick="deleteAttendance('${a.id}')"><i class="fas fa-trash"></i></button>
                    </div>
                </div>
            `;
        }).join('');
    }

    function renderPayments(payments) {
        const recent = [...payments].sort((a,b) => new Date(b.date) - new Date(a.date)).slice(0, 5);
        
        if (recent.length === 0) {
            return '<div class="empty py-4">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø¯ÙÙˆØ¹Ø§Øª Ù…Ø³Ø¬Ù„Ø©</div>';
        }

        return recent.map(p => {
            const subject = state.subjects.find(s => s.id === p.subjectId);
            return `
                <div class="record-item">
                    <div>
                        <div class="font-bold">${subject?.name || ''}</div>
                        <div class="text-sm text-gray-500">${p.date}</div>
                    </div>
                    <div class="record-actions">
                        <span class="text-green-600 font-bold ml-3 ar-num text-base">${toArabic(p.amount)} Ø¬.Ù…</span>
                        <button onclick="editPayment('${p.id}')"><i class="fas fa-edit"></i></button>
                        <button onclick="deletePayment('${p.id}')"><i class="fas fa-trash"></i></button>
                    </div>
                </div>
            `;
        }).join('');
    }

    // Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª
    window.toggleCard = (id) => {
        state.expanded[id] = !state.expanded[id];
        renderCards();
    };

    // Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù†ÙˆØ§ÙØ°
    window.showModal = (type, data = null) => {
        if (type === 'subject' && data) {
            document.getElementById('subject-student-id').value = data;
            renderDaysSelector('days-selector');
        }
        if (type === 'attendance' && data) {
            document.getElementById('attendance-subject-id').value = data;
            document.getElementById('attendance-date').value = new Date().toISOString().split('T')[0];
        }
        if (type === 'payment' && data) {
            document.getElementById('payment-subject-id').value = data;
            document.getElementById('payment-date').value = new Date().toISOString().split('T')[0];
            const subject = state.subjects.find(s => s.id === data);
            if (subject) {
                document.getElementById('payment-amount').value = subject.fee;
            }
        }
        document.getElementById(`modal-${type}`).classList.add('active');
    };

    window.hideModal = (type) => {
        document.getElementById(`modal-${type}`).classList.remove('active');
    };

    // ØªØ¹Ø¯ÙŠÙ„ Ù…Ø§Ø¯Ø©
    window.editSubject = (id) => {
        const subject = state.subjects.find(s => s.id === id);
        if (!subject) return;

        document.getElementById('edit-subject-id').value = id;
        document.getElementById('edit-subject-name').value = subject.name;
        document.getElementById('edit-subject-fee').value = subject.fee;
        document.getElementById('edit-subject-time').value = subject.time || '';

        const container = document.getElementById('edit-days-selector');
        container.innerHTML = '';
        WEEKDAYS.forEach(day => {
            const div = document.createElement('div');
            div.className = `day-option ${subject.days?.includes(day) ? 'selected' : ''}`;
            div.textContent = day;
            div.onclick = () => div.classList.toggle('selected');
            container.appendChild(div);
        });

        document.getElementById('modal-edit-subject').classList.add('active');
    };

    window.updateSubject = async () => {
        const id = document.getElementById('edit-subject-id').value;
        const name = document.getElementById('edit-subject-name').value.trim();
        const fee = document.getElementById('edit-subject-fee').value;
        const time = document.getElementById('edit-subject-time').value;
        const days = Array.from(document.querySelectorAll('#edit-days-selector .selected')).map(el => el.textContent);

        if (!name || !fee || days.length === 0) {
            return alert('Ø£ÙƒÙ…Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');
        }

        try {
            await updateDoc(doc(db, 'artifacts', appId, 'public', 'data', 'subjects', id), {
                name, fee: parseFloat(fee), time, days
            });
            hideModal('edit-subject');
            showToast('ØªÙ… Ø§Ù„ØªØ­Ø¯ÙŠØ«');
        } catch (e) {
            alert('Ø®Ø·Ø£');
        }
    };

    function renderDaysSelector(selectorId) {
        const container = document.getElementById(selectorId);
        container.innerHTML = '';
        WEEKDAYS.forEach(day => {
            const div = document.createElement('div');
            div.className = 'day-option';
            div.textContent = day;
            div.onclick = () => div.classList.toggle('selected');
            container.appendChild(div);
        });
    }

    // Ø§Ù„Ø·Ù„Ø§Ø¨
    window.addStudent = async () => {
        const name = document.getElementById('student-name').value.trim();
        if (!name) return alert('Ø£Ø¯Ø®Ù„ Ø§Ù„Ø§Ø³Ù…');
        
        try {
            await addDoc(collection(db, 'artifacts', appId, 'public', 'data', 'students'), { name });
            document.getElementById('student-name').value = '';
            hideModal('student');
            showToast('ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ©');
        } catch (e) {
            alert('Ø®Ø·Ø£');
        }
    };

    // Ø§Ù„Ù…ÙˆØ§Ø¯
    window.addSubject = async () => {
        const studentId = document.getElementById('subject-student-id').value;
        const name = document.getElementById('subject-name').value.trim();
        const fee = document.getElementById('subject-fee').value;
        const time = document.getElementById('subject-time').value;
        
        const days = Array.from(document.querySelectorAll('#days-selector .selected')).map(el => el.textContent);

        if (!studentId || !name || !fee || days.length === 0) {
            return alert('Ø£ÙƒÙ…Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');
        }

        try {
            await addDoc(collection(db, 'artifacts', appId, 'public', 'data', 'subjects'), {
                studentId, name, fee: parseFloat(fee), time, days
            });
            hideModal('subject');
            showToast('ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ©');
        } catch (e) {
            alert('Ø®Ø·Ø£');
        }
    };

    window.deleteSubject = async (id) => {
        if (!confirm('Ø­Ø°Ù Ø§Ù„Ù…Ø§Ø¯Ø©ØŸ')) return;
        try {
            await deleteDoc(doc(db, 'artifacts', appId, 'public', 'data', 'subjects', id));
            showToast('ØªÙ… Ø§Ù„Ø­Ø°Ù');
        } catch (e) {
            alert('Ø®Ø·Ø£');
        }
    };

    // Ø§Ù„Ø­ØµØµ
    window.addAttendance = async () => {
        const subjectId = document.getElementById('attendance-subject-id').value;
        const date = document.getElementById('attendance-date').value;
        const status = document.querySelector('input[name="attendance-status"]:checked').value;

        if (!subjectId || !date) return alert('Ø£ÙƒÙ…Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');

        const subject = state.subjects.find(s => s.id === subjectId);
        if (!subject) return;

        const exists = state.attendance.find(a => a.subjectId === subjectId && a.date === date);
        if (exists) return alert('ØªÙ… Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ù…Ø³Ø¨Ù‚Ø§Ù‹');

        const day = new Date(date).toLocaleDateString('ar-EG', { weekday: 'long' });

        try {
            await addDoc(collection(db, 'artifacts', appId, 'public', 'data', 'attendance'), {
                studentId: subject.studentId,
                subjectId,
                date,
                day,
                status
            });
            hideModal('attendance');
            showToast('ØªÙ… Ø§Ù„ØªØ³Ø¬ÙŠÙ„');
        } catch (e) {
            alert('Ø®Ø·Ø£');
        }
    };

    window.editAttendance = (id) => {
        const a = state.attendance.find(a => a.id === id);
        if (!a) return;

        document.getElementById('edit-attendance-id').value = id;
        document.getElementById('edit-attendance-date').value = a.date;
        
        const radio = document.querySelector(`input[name="edit-attendance-status"][value="${a.status}"]`);
        if (radio) radio.checked = true;

        document.getElementById('modal-edit-attendance').classList.add('active');
    };

    window.updateAttendance = async () => {
        const id = document.getElementById('edit-attendance-id').value;
        const date = document.getElementById('edit-attendance-date').value;
        const status = document.querySelector('input[name="edit-attendance-status"]:checked').value;

        if (!id || !date || !status) return alert('Ø£ÙƒÙ…Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');

        const day = new Date(date).toLocaleDateString('ar-EG', { weekday: 'long' });

        try {
            await updateDoc(doc(db, 'artifacts', appId, 'public', 'data', 'attendance', id), {
                date, day, status
            });
            hideModal('edit-attendance');
            showToast('ØªÙ… Ø§Ù„ØªØ­Ø¯ÙŠØ«');
        } catch (e) {
            alert('Ø®Ø·Ø£');
        }
    };

    window.deleteAttendance = async (id) => {
        if (!confirm('Ø­Ø°Ù Ø§Ù„Ø­ØµØ©ØŸ')) return;
        try {
            await deleteDoc(doc(db, 'artifacts', appId, 'public', 'data', 'attendance', id));
            showToast('ØªÙ… Ø§Ù„Ø­Ø°Ù');
        } catch (e) {
            alert('Ø®Ø·Ø£');
        }
    };

    // Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª
    window.addPayment = async () => {
        const subjectId = document.getElementById('payment-subject-id').value;
        const date = document.getElementById('payment-date').value;
        const amount = document.getElementById('payment-amount').value;

        if (!subjectId || !date || !amount) return alert('Ø£ÙƒÙ…Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');

        const subject = state.subjects.find(s => s.id === subjectId);
        if (!subject) return;

        const day = new Date(date).toLocaleDateString('ar-EG', { weekday: 'long' });

        try {
            await addDoc(collection(db, 'artifacts', appId, 'public', 'data', 'payments'), {
                studentId: subject.studentId,
                subjectId,
                date,
                day,
                amount: parseFloat(amount)
            });
            hideModal('payment');
            showToast('ØªÙ… Ø§Ù„ØªØ³Ø¬ÙŠÙ„');
        } catch (e) {
            alert('Ø®Ø·Ø£');
        }
    };

    window.editPayment = (id) => {
        const p = state.payments.find(p => p.id === id);
        if (!p) return;

        document.getElementById('edit-payment-id').value = id;
        document.getElementById('edit-payment-date').value = p.date;
        document.getElementById('edit-payment-amount').value = p.amount;

        document.getElementById('modal-edit-payment').classList.add('active');
    };

    window.updatePayment = async () => {
        const id = document.getElementById('edit-payment-id').value;
        const date = document.getElementById('edit-payment-date').value;
        const amount = document.getElementById('edit-payment-amount').value;

        if (!id || !date || !amount) return alert('Ø£ÙƒÙ…Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');

        const day = new Date(date).toLocaleDateString('ar-EG', { weekday: 'long' });

        try {
            await updateDoc(doc(db, 'artifacts', appId, 'public', 'data', 'payments', id), {
                date, day, amount: parseFloat(amount)
            });
            hideModal('edit-payment');
            showToast('ØªÙ… Ø§Ù„ØªØ­Ø¯ÙŠØ«');
        } catch (e) {
            alert('Ø®Ø·Ø£');
        }
    };

    window.deletePayment = async (id) => {
        if (!confirm('Ø­Ø°Ù Ø§Ù„Ø¯ÙØ¹ØŸ')) return;
        try {
            await deleteDoc(doc(db, 'artifacts', appId, 'public', 'data', 'payments', id));
            showToast('ØªÙ… Ø§Ù„Ø­Ø°Ù');
        } catch (e) {
            alert('Ø®Ø·Ø£');
        }
    };

    // Ø¯Ø§Ù„Ø© Ø¹Ø±Ø¶ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø­ØµØµ ÙÙŠ Ù†Ø§ÙØ°Ø© Ù…Ù†Ø¨Ø«Ù‚Ø©
    window.showSessionsDetail = (type, id, filter = 'all') => {
        let title = '';
        let sessions = [];
        let subjectName = '';

        if (type === 'all') {
            // Ø¹Ø±Ø¶ ÙƒÙ„ Ø­ØµØµ Ø§Ù„Ø·Ø§Ù„Ø¨
            const student = state.students.find(s => s.id === id);
            title = `ğŸ“‹ ÙƒÙ„ Ø­ØµØµ ${student?.name || 'Ø§Ù„Ø·Ø§Ù„Ø¨'}`;
            sessions = state.attendance.filter(a => a.studentId === id);
        } else if (type === 'present') {
            const student = state.students.find(s => s.id === id);
            title = `âœ… Ø­Ø¶ÙˆØ± ${student?.name || 'Ø§Ù„Ø·Ø§Ù„Ø¨'}`;
            sessions = state.attendance.filter(a => a.studentId === id && a.status === 'Ø­Ø¶ÙˆØ±');
        } else if (type === 'absent') {
            const student = state.students.find(s => s.id === id);
            title = `âŒ ØºÙŠØ§Ø¨ ${student?.name || 'Ø§Ù„Ø·Ø§Ù„Ø¨'}`;
            sessions = state.attendance.filter(a => a.studentId === id && a.status === 'ØºÙŠØ§Ø¨');
        } else if (type === 'subject') {
            const subject = state.subjects.find(s => s.id === id);
            subjectName = subject?.name || '';
            if (filter === 'all') {
                title = `ğŸ“š ÙƒÙ„ Ø­ØµØµ Ù…Ø§Ø¯Ø©: ${subjectName}`;
                sessions = state.attendance.filter(a => a.subjectId === id);
            } else if (filter === 'present') {
                title = `âœ… Ø­Ø¶ÙˆØ± Ù…Ø§Ø¯Ø©: ${subjectName}`;
                sessions = state.attendance.filter(a => a.subjectId === id && a.status === 'Ø­Ø¶ÙˆØ±');
            } else if (filter === 'absent') {
                title = `âŒ ØºÙŠØ§Ø¨ Ù…Ø§Ø¯Ø©: ${subjectName}`;
                sessions = state.attendance.filter(a => a.subjectId === id && a.status === 'ØºÙŠØ§Ø¨');
            }
        }

        // ØªØ±ØªÙŠØ¨ Ø§Ù„Ø­ØµØµ ØªÙ†Ø§Ø²Ù„ÙŠØ§Ù‹ Ø­Ø³Ø¨ Ø§Ù„ØªØ§Ø±ÙŠØ® (Ø§Ù„Ø£Ø­Ø¯Ø« Ø£ÙˆÙ„Ø§Ù‹)
        sessions.sort((a, b) => new Date(b.date) - new Date(a.date));

        document.getElementById('sessions-modal-title').textContent = title;

        const container = document.getElementById('sessions-list-container');
        if (sessions.length === 0) {
            container.innerHTML = '<div class="empty py-4">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø­ØµØµ Ù…Ø³Ø¬Ù„Ø©</div>';
        } else {
            let html = '';
            sessions.forEach((session, index) => {
                const subject = state.subjects.find(s => s.id === session.subjectId);
                html += `
                    <div class="session-item">
                        <div class="session-number">${toArabic(index + 1)}</div>
                        <div class="session-info">
                            <div class="session-date">${subject?.name || ''} - ${session.date}</div>
                            <div class="session-day">${session.day || ''}</div>
                        </div>
                        <div>
                            <span class="session-status-badge ${session.status === 'Ø­Ø¶ÙˆØ±' ? 'status-present' : 'status-absent'}">
                                ${session.status === 'Ø­Ø¶ÙˆØ±' ? 'âœ… Ø­Ø¶ÙˆØ±' : 'âŒ ØºÙŠØ§Ø¨'}
                            </span>
                        </div>
                    </div>
                `;
            });
            container.innerHTML = html;
        }

        document.getElementById('modal-sessions-detail').classList.add('active');
    };

    // ØªØ¹Ø±ÙŠÙ Ø§Ù„Ø¯Ø§Ù„Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù†Ø§ÙØ°Ø© Ù„ØªÙƒÙˆÙ† Ù…ØªØ§Ø­Ø© Ø¹Ø§Ù„Ù…ÙŠØ§Ù‹
    window.showSessionsDetail = showSessionsDetail;
</script>

<!-- Ø±Ø³Ø§Ù„Ø© Ù†Ø¬Ø§Ø­ (Ù…ÙˆØ¬ÙˆØ¯Ø© Ù…Ø³Ø¨Ù‚Ø§Ù‹) -->
<div class="toast" id="toast">âœ… ØªÙ… Ø§Ù„Ø­ÙØ¸ Ø¨Ù†Ø¬Ø§Ø­</div>

</body>
</html>
